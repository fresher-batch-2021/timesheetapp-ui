<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Timesheet</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&display=swap" rel="stylesheet">

    <link rel="icon" href="images/favicon.ico">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header id="header">

    </header>
    <section class="my_timesheet_table">
        <table id="list" class="my_timesheet_class">
            <thead>
                <tr>
                    <th>TaskName</th>
                    <th>Time_in</th>
                    <th>Time_out</th>
                    <th>Total(hours)</th>
                    <th>Comments</th>
                </tr>
            </thead>
            <tbody>
                <!-- <tr>
                    <td>Created index page</td>
                    <td>9:00 </td>
                    <td> 6:00</td>
                    <td>9</td>
                    <td>Nill</td>
                </tr> -->

            </tbody>

        </table>
    </section>
    <div class="my_timesheet_div"></div>
    <div class="done">
        <form action="timesheet_record.html">
            <button class="">Submit</button>
        </form>
        <!-- <a href="timesheet_record.html"><h3>Done</h3></a> -->

    </div>
    <div class="add_task_form">
        <h3>Add Task</h3>
        <form id="list_task">
            <label for="taskName">Enter Task Name</label>
            <input type="text" name="taskName" id="taskName" required autofocus>
            <br>
            <label for="time_in">Enter time in</label>
            <input type="number" name="time_in" id="time_in" required>
            <br>
            <label for="time_out">Enter time out</label>
            <input type="number" name="time_out" id="time_out" required>
            <br>
            <label for="comments">Enter comments</label>
            <input type="text" name="comments" id="comments" required>
            <br>

            <input class="task_button1" id="button" type="button" value=" Reset " onclick="ResetForm()">&nbsp&nbsp&nbsp
            <input class="task_button2" id="button" type="button" value=" Add " onclick="AddData()">

            <!-- <button class="task_button1">Submit</button> -->
            <!-- <button class="task_button2" type="reset">Reset</button> -->
        </form>
    </div>



    <footer id="footer">

    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script>
        $("#header").load("header.html");
        $("#footer").load("footer.html");



        $("#header").load("_header.html");

        // function addTask(){
        //     event.preventDefault();

        //     const taskName = document.querySelector("#taskName").value;
        //     const time_in = parseInt(document.querySelector("#time_in").value);
        //     const time_out = parseInt(document.querySelector("#time_out").value);
        //     const comments = (document.querySelector("#comments").value);
        //     const taskObj = { 
        //         "name" : taskName,
        //         "time in":time_in,
        //         "time out" : time_out,
        //         "comments" : comments,

        //     };
        //     console.log(taskObj);
        //     alert("Successfully Added Task");
        // // logout


        // }

        function AddData() {
            var x = document.getElementById("taskName").value;
            var y = document.getElementById("time_in").value;
            var a = document.getElementById("time_out").value;
            var b = document.getElementById("comments").value;
            var letters = '/^[a-zA-Z]+$/';
            if ((parseInt(x) != (x)) && (y == parseInt(y)) && (a == parseInt(a)) && (b == parseInt(b))) {
                alert("Wrong Value Entered");
            } else {
                var rows = "";
                var taskName = document.getElementById("taskName").value;
                var time_in = document.getElementById("time_in").value;
                var time_out = document.getElementById("time_out").value;
                var totalHours = (time_out - time_in);
                var comments = document.getElementById("comments").value;
                var taskObj = {
                    inTime: time_in,
                    outTime: time_out,
                    totalHours: totalHours,
                    comments: comments,
                    taskName: taskName
                };
                console.log(taskObj);
                tasks.push(taskObj);
                //store all tasks in localStorage
                localStorage.setItem("TASKS", JSON.stringify(tasks));




                rows += "<tr><td>" + taskName + "</td><td>" + time_in + "</td><td>" + time_out + "</td><td>" +
                    totalHours + "</td><td>" + comments + "</td></tr>";
                $(rows).appendTo("#list tbody");
            }
        }

        function displayTasks() {

        }

        const tasks = [];

        function ResetForm() {
            document.getElementById("list_task").reset();
        }

        // .push("tbody")
    </script>
</body>

</html>