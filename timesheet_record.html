<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Record | Timesheet</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&display=swap" rel="stylesheet">

    <link rel="icon" href="images/favicon.ico">
    <link rel="stylesheet" href="styles.css">

 <!-- axios -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>

<body>
    
    
    <header id="header">

    </header>
  
    <div id="afterGetData">
        <!-- append -->
        <section class="table-class">
            <table id="table-to" class="record-table" style="border:1px solid black" summary = "Timesheet Listed Data ">
                <thead>
                    <tr>
                        <th id="table-class-head">TaskName</th>
                        <th id="table-class-head">Time_in</th>
                        <th id="table-class-head">Time_out</th>
                        <th id="table-class-head">Total(hours)</th>
                        <th id="table-class-head">Comments</th>
                        <th id="table-class-head">Actions</th>
                    </tr>
                </thead>
                <tbody id="table-to-body">

                </tbody>
            </table>
        </section>





    </div>

    

    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="timesheet_record.js" charset="utf-8"></script>

   
    <script>
    //    geeting data
    
  
    let tasksStr = localStorage.getItem("TASKS");
   let tasks = JSON.parse(tasksStr);
   console.log(tasks);
   
   let url ="https://product-mock-api.herokuapp.com/timesheetapp/api/v1/tasks";
   
   axios.get(url).then(res =>{
     alert("getting data");
     let tasks = res.data;
    var content="";
    
     for(let task of tasks){
     
      content= content+`<tr><td>${task.name}</td><td>${task.inTime}</td><td>${task.outTime}</td><td>${task.totalHours}</td><td>${task.comments}</td><td>`;
     }
     console.log(content);
    document.querySelector("#table-to-body").innerHTML = content;
   }).catch(err => {
     alert("error in getting data");

   });

    </script> 

    <footer id="footer">
        <!-- append -->
    </footer> 
</body>

</html>
